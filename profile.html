<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èˆªæµ·éŒ²ã‚’ç·¨é›† | NOAH</title>
    <link rel="icon" href="img/icon.png">
    
    <!-- Google Fonts: Noto Serif JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { serif: ['Noto Serif JP', 'serif'] },
                    colors: { 
                        brand: { 
                            50: '#f7f5f0',   
                            100: '#e8dfd1',  
                            200: '#dcd4c6',  
                            300: '#c8b9a6',  
                            400: '#a09080',  
                            500: '#8b6a4f',  
                            600: '#725b3f',  
                            700: '#5c4a3d',  
                            800: '#4a3b32',  
                            900: '#3e2723'   
                        } 
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            font-family: 'Noto Serif JP', serif;
            background-color: #f7f5f0; 
            color: #4a3b32;
        }
        .bg-texture {
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
        }
        .glass-header {
            background: rgba(255, 253, 249, 0.95);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #8b6a4f !important;
            box-shadow: 0 0 0 1px #8b6a4f !important;
        }
        /* Tag Selection */
        .filter-checkbox:checked + div {
            background-color: #8b6a4f !important;
            border-color: #8b6a4f !important;
            color: #fffdf9 !important;
        }
        
        /* Accordion in Modals */
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: slideDown 0.3s ease-in-out; }
        @keyframes slideDown { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } }
        .accordion-arrow { transition: transform 0.2s ease; }
        details[open] .accordion-arrow { transform: rotate(180deg); }
    </style>
</head>
<body class="antialiased min-h-screen bg-texture pb-20">

    <!-- Navbar -->
    <nav class="glass-header border-b border-brand-200 fixed w-full z-[1500] top-0 h-16 shadow-sm">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex justify-between items-center">
            <div class="flex items-center gap-4">
                <a href="user.html" id="back-link" class="text-brand-500 hover:text-brand-800 transition-colors flex items-center gap-2 text-sm font-bold tracking-widest">
                    <i class="fa-solid fa-arrow-left"></i>
                    <span class="hidden sm:inline">ãƒã‚¤ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</span>
                </a>
            </div>
            <div class="font-serif font-bold text-brand-900 tracking-widest text-base sm:text-lg">
                èˆªæµ·éŒ²ã®ç·¨é›†
            </div>
            <div class="w-8 sm:w-24"></div> <!-- ãƒãƒ©ãƒ³ã‚¹ç”¨ã®ä½™ç™½ -->
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-3xl mx-auto pt-24 px-4 sm:px-6">
        
        <form id="profile-form" onsubmit="saveProfile(event)" class="space-y-8">
            
            <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200">
                <h3 class="text-sm font-bold text-brand-800 mb-4 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-camera text-brand-400 mr-2"></i>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ</h3>
                <div class="flex flex-col items-center">
                    <div class="relative w-32 h-32 bg-brand-50 rounded-full border-2 border-dashed border-brand-300 flex flex-col items-center justify-center text-brand-400 hover:bg-[#fffdf9] cursor-pointer overflow-hidden group shadow-inner mb-4">
                        <input type="file" id="photo-upload" accept="image/*" class="absolute inset-0 opacity-0 cursor-pointer z-10">
                        <img id="profile-image-preview" class="absolute inset-0 w-full h-full object-cover hidden">
                        <div class="group-hover:scale-110 transition-transform flex flex-col items-center">
                            <i class="fa-solid fa-image text-3xl mb-1"></i>
                            <span class="text-[10px] tracking-widest font-bold">ç”»åƒã‚’é¸æŠ</span>
                        </div>
                    </div>
                    <p class="text-[10px] text-brand-500 tracking-widest">æ­£æ–¹å½¢ã«ãƒˆãƒªãƒŸãƒ³ã‚°ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                </div>
            </div>

            <!-- åŸºæœ¬æƒ…å ± -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200 space-y-5">
                <h3 class="text-sm font-bold text-brand-800 mb-2 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-id-card text-brand-400 mr-2"></i>åŸºæœ¬æƒ…å ±</h3>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">è¡¨ç¤ºå <span class="text-red-500">*</span></label>
                        <input type="text" id="name" required class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]" placeholder="ä¾‹: èˆªæµ· å¤ªéƒ">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">ãµã‚ŠãŒãª <span class="text-red-500">*</span></label>
                        <input type="text" id="furigana" required class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]" placeholder="ä¾‹: ã“ã†ã‹ã„ ãŸã‚ã†">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">è·æ¥­ãƒ»è‚©æ›¸</label>
                        <input type="text" id="jobTitle" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]" placeholder="ä¾‹: UI/UXãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">æ´»å‹•æ‹ ç‚¹ (éƒ½é“åºœçœŒ)</label>
                        <select id="prefecture" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]"></select>
                    </div>
                    <!-- å‡ºèº«åœ° -->
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">å‡ºèº«åœ°</label>
                        <select id="birthplace" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]"></select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">æ€§åˆ¥</label>
                        <select id="gender" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0]">
                            <option value="ç„¡å›ç­”">ç„¡å›ç­”</option>
                            <option value="ç”·æ€§">ç”·æ€§</option>
                            <option value="å¥³æ€§">å¥³æ€§</option>
                            <option value="ãã®ä»–">ãã®ä»–</option>
                        </select>
                    </div>
                </div>

                <div class="bg-brand-50 p-4 rounded-sm border border-brand-200 mt-2">
                    <label class="block text-xs font-bold text-brand-800 mb-3 tracking-widest">ç”Ÿå¹´æœˆæ—¥ã¨å…¬é–‹è¨­å®š</label>
                    <div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center">
                        <input type="date" id="birthDate" class="w-full sm:w-auto flex-1 border-brand-200 rounded-sm text-sm p-2.5 bg-white">
                        <select id="birthVisibility" class="w-full sm:w-auto border-brand-200 rounded-sm text-sm p-2.5 bg-white">
                            <option value="full">å…¨ä½“ã«å…¬é–‹ (å¹´/æœˆ/æ—¥)</option>
                            <option value="monthDay">æœˆæ—¥ã®ã¿å…¬é–‹ (æœˆ/æ—¥)</option>
                            <option value="none">éå…¬é–‹</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200 space-y-6">
                <h3 class="text-sm font-bold text-brand-800 mb-2 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-feather text-brand-400 mr-2"></i>ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£</h3>
                
                <div>
                    <div class="flex justify-between items-center mb-1.5">
                        <label class="block text-xs font-bold text-brand-700 tracking-widest">è‡ªå·±ç´¹ä»‹ (Bio) <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»300å­—ä»¥ä¸Šã§è©•ä¾¡)</span></label>
                        <button type="button" onclick="openMarkdownHelp()" class="text-brand-600 hover:text-brand-900 transition-colors text-[10px] flex items-center gap-1 bg-brand-100 px-2 py-1 rounded-sm border border-brand-300 shadow-sm font-bold"><i class="fa-regular fa-circle-question"></i>æ›¸ãæ–¹</button>
                    </div>
                    <textarea id="bio" rows="4" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0] leading-relaxed" placeholder="ã“ã‚Œã¾ã§ã®æ­©ã¿ã‚„ç¾åœ¨ã®æ´»å‹•å†…å®¹ã‚’ç°¡æ½”ã«ã€‚"></textarea>
                </div>
                
                <div>
                    <div class="flex justify-between items-center mb-1.5">
                        <label class="block text-xs font-bold text-brand-700 tracking-widest">æƒ³ã„ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»ç›¸äº’ãƒ•ã‚©ãƒ­ãƒ¼ã«å…¬é–‹ / 300å­—ä»¥ä¸Šã§è©•ä¾¡)</span></label>
                        <button type="button" onclick="openMarkdownHelp()" class="text-brand-600 hover:text-brand-900 transition-colors text-[10px] flex items-center gap-1 bg-brand-100 px-2 py-1 rounded-sm border border-brand-300 shadow-sm font-bold"><i class="fa-regular fa-circle-question"></i>æ›¸ãæ–¹</button>
                    </div>
                    <textarea id="message" rows="5" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0] leading-relaxed" placeholder="ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä»²é–“ã«å‘ã‘ãŸç†±ã„æƒ³ã„ã‚„ä¾¡å€¤è¦³ã‚’èªã£ã¦ãã ã•ã„ã€‚"></textarea>
                </div>

                <div>
                    <div class="flex justify-between items-center mb-1.5">
                        <label class="block text-xs font-bold text-brand-700 tracking-widest">ç›®æ¨™ãƒ»ãƒ“ã‚¸ãƒ§ãƒ³ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»ç›¸äº’ãƒ•ã‚©ãƒ­ãƒ¼ã«å…¬é–‹ / 300å­—ä»¥ä¸Šã§è©•ä¾¡)</span></label>
                        <button type="button" onclick="openMarkdownHelp()" class="text-brand-600 hover:text-brand-900 transition-colors text-[10px] flex items-center gap-1 bg-brand-100 px-2 py-1 rounded-sm border border-brand-300 shadow-sm font-bold"><i class="fa-regular fa-circle-question"></i>æ›¸ãæ–¹</button>
                    </div>
                    <textarea id="goals" rows="3" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0] leading-relaxed" placeholder="å°†æ¥æˆã—é‚ã’ãŸã„ã“ã¨ã‚„ã€æ¬¡ã«é€²ã¿ãŸã„ä¸–ç•Œã«ã¤ã„ã¦ã€‚"></textarea>
                </div>
            </div>

            <!-- ãƒãƒƒãƒãƒ³ã‚°æƒ…å ± -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200 space-y-6">
                <h3 class="text-sm font-bold text-brand-800 mb-2 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-handshake text-brand-400 mr-2"></i>ãƒãƒƒãƒãƒ³ã‚°æƒ…å ±</h3>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">æä¾›ã§ãã‚‹ã“ã¨ <span class="text-brand-400 text-[10px] font-normal">(ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š)</span></label>
                        <textarea id="canOffer" rows="3" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0] leading-relaxed" placeholder="ä¾‹: Webãƒ‡ã‚¶ã‚¤ãƒ³, èµ·æ¥­ã®ç›¸è«‡, ç¾å‘³ã—ã„ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’æ·¹ã‚Œã‚‹ã“ã¨"></textarea>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-brand-700 mb-1.5 tracking-widest">æ±‚ã‚ã¦ã„ã‚‹ã“ã¨ <span class="text-brand-400 text-[10px] font-normal">(ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š)</span></label>
                        <textarea id="lookingFor" rows="3" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-[#f7f5f0] leading-relaxed" placeholder="ä¾‹: ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ä»²é–“, å‹•ç”»ç·¨é›†ãŒã§ãã‚‹äºº, é€±æœ«ã‚«ãƒ•ã‚§å·¡ã‚Š"></textarea>
                    </div>
                </div>
            </div>

            <!-- ã‚¿ã‚° (ã‚¹ã‚­ãƒ«ãƒ»è¶£å‘³) -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200 space-y-6">
                <h3 class="text-sm font-bold text-brand-800 mb-4 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-tags text-brand-400 mr-2"></i>ã‚¹ã‚­ãƒ«ã¨è¶£å‘³</h3>
                
                <div>
                    <label class="block text-xs font-bold text-brand-700 mb-2 tracking-widest">ã‚¹ã‚­ãƒ«ã®é¸æŠ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»3ã¤ä»¥ä¸Šã§è©•ä¾¡)</span></label>
                    <div id="skills-checkbox-container" class="space-y-3">
                        <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ã‚¹ã‚­ãƒ«ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                    </div>
                    <input type="text" id="custom-skills" placeholder="ãã®ä»–ã®ã‚¹ã‚­ãƒ« (ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š)" class="mt-3 w-full border-brand-200 rounded-sm text-sm p-2.5 bg-[#f7f5f0]">
                </div>

                <div class="mt-8">
                    <label class="block text-xs font-bold text-brand-700 mb-2 tracking-widest">è¶£å‘³ã®é¸æŠ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»3ã¤ä»¥ä¸Šã§è©•ä¾¡)</span></label>
                    <div id="hobbies-checkbox-container" class="space-y-3">
                        <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®è¶£å‘³ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                    </div>
                    <input type="text" id="custom-hobbies" placeholder="ãã®ä»–ã®è¶£å‘³ (ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š)" class="mt-3 w-full border-brand-200 rounded-sm text-sm p-2.5 bg-[#f7f5f0]">
                </div>
            </div>

            <!-- çµŒæ­´ -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200">
                <h3 class="text-sm font-bold text-brand-800 mb-4 tracking-widest border-b border-brand-100 pb-2 flex items-center justify-between">
                    <span><i class="fa-solid fa-timeline text-brand-400 mr-2"></i>çµŒæ­´ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»ç›¸äº’ãƒ•ã‚©ãƒ­ãƒ¼ã«å…¬é–‹ / 1ã¤ä»¥ä¸Šã§è©•ä¾¡)</span></span>
                </h3>
                
                <div id="career-list-container" class="space-y-3 mb-4"></div>

                <div class="bg-brand-50 border border-brand-200 p-4 rounded-sm shadow-sm relative">
                    <div class="absolute top-0 left-0 w-0.5 h-full bg-brand-500"></div>
                    <h4 class="text-xs font-bold text-brand-800 mb-3 tracking-widest">æ–°ã—ã„çµŒæ­´ã‚’è¿½åŠ </h4>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3">
                        <input type="text" id="career-company" placeholder="ä¼šç¤¾ãƒ»çµ„ç¹”å" class="w-full border-brand-200 rounded-sm text-sm p-2.5 bg-white">
                        <input type="text" id="career-role" placeholder="å½¹è·ãƒ»å½¹å‰²" class="w-full border-brand-200 rounded-sm text-sm p-2.5 bg-white">
                        <input type="month" id="career-start" class="w-full border-brand-200 rounded-sm text-sm p-2.5 bg-white text-brand-500">
                        <input type="month" id="career-end" class="w-full border-brand-200 rounded-sm text-sm p-2.5 bg-white text-brand-500" title="ç©ºæ¬„ã®å ´åˆã¯ã€Œç¾åœ¨ã€ã¨ãªã‚Šã¾ã™">
                    </div>
                    <div class="flex justify-between items-center mb-1.5 mt-4">
                        <label class="block text-xs font-bold text-brand-700 tracking-widest">æ¥­å‹™å†…å®¹ãƒ»è©³ç´°</label>
                        <button type="button" onclick="openMarkdownHelp()" class="text-brand-600 hover:text-brand-900 transition-colors text-[10px] flex items-center gap-1 bg-brand-100 px-2 py-1 rounded-sm border border-brand-300 shadow-sm font-bold"><i class="fa-regular fa-circle-question"></i>æ›¸ãæ–¹</button>
                    </div>
                    <textarea id="career-desc" rows="3" class="w-full border-brand-200 rounded-sm text-sm p-3 bg-white leading-relaxed" placeholder="ã©ã®ã‚ˆã†ãªèª²é¡Œã«å–ã‚Šçµ„ã¿ã€ä½•ã‚’æ®‹ã—ãŸã‹ã€‚"></textarea>
                    
                    <button type="button" onclick="addCareer()" class="mt-4 w-full py-2.5 bg-brand-800 text-brand-50 font-bold text-xs rounded-sm hover:bg-brand-900 transition-colors shadow-md tracking-widest">
                        <i class="fa-solid fa-plus mr-1"></i>çµŒæ­´ãƒªã‚¹ãƒˆã«è¿½åŠ 
                    </button>
                </div>
            </div>

            <!-- SNSãƒªãƒ³ã‚¯ -->
            <div class="bg-[#fffdf9] p-6 sm:p-8 rounded-sm shadow-md border border-brand-200 space-y-4">
                <h3 class="text-sm font-bold text-brand-800 mb-2 tracking-widest border-b border-brand-100 pb-2"><i class="fa-solid fa-link text-brand-400 mr-2"></i>SNSãƒ»å¤–éƒ¨ãƒªãƒ³ã‚¯ <span class="text-brand-400 text-[10px] font-normal ml-1">(â€»ã©ã‚Œã‹1ã¤ä»¥ä¸Šã§è©•ä¾¡)</span></h3>
                <div class="space-y-3">
                    <div class="flex items-center gap-3">
                        <div class="w-8 flex justify-center text-brand-400 text-xl"><i class="fa-solid fa-globe"></i></div>
                        <input type="url" id="websiteUrl" placeholder="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚„ãƒ–ãƒ­ã‚°ã®URL (https://...)" class="flex-1 border-brand-200 rounded-sm text-sm p-2.5 bg-[#f7f5f0]">
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-8 flex justify-center text-brand-400 text-xl"><i class="fa-brands fa-instagram"></i></div>
                        <input type="text" id="snsInstagram" placeholder="Instagramã®ID ã¾ãŸã¯ URL" class="flex-1 border-brand-200 rounded-sm text-sm p-2.5 bg-[#f7f5f0]">
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-8 flex justify-center text-brand-400 text-xl"><i class="fa-brands fa-x-twitter"></i></div>
                        <input type="text" id="snsX" placeholder="X(Twitter)ã®ID ã¾ãŸã¯ URL" class="flex-1 border-brand-200 rounded-sm text-sm p-2.5 bg-[#f7f5f0]">
                    </div>
                </div>
            </div>

            <!-- å…¬é–‹è¨­å®š -->
            <div class="bg-brand-50 p-6 sm:p-8 rounded-sm shadow-inner border border-brand-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <div>
                    <h3 class="text-sm font-bold text-brand-900 tracking-widest mb-1"><i class="fa-solid fa-eye text-brand-500 mr-2"></i>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®æ¤œç´¢å…¬é–‹</h3>
                    <p class="text-[10px] text-brand-500 tracking-widest">ã€Œå…¬é–‹ã€ã«ã™ã‚‹ã¨ã€ä»–ã®ä¹—èˆ¹è€…ãŒã‚ãªãŸã‚’æ¤œç´¢ã§è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
                </div>
                <select id="profilePublic" class="border-brand-300 rounded-sm text-sm p-2.5 bg-white font-bold text-brand-800 shadow-sm focus:ring-brand-500 focus:border-brand-500 min-w-[120px]">
                    <option value="true">å…¬é–‹ã™ã‚‹</option>
                    <option value="false">éå…¬é–‹ã«ã™ã‚‹</option>
                </select>
            </div>

            <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å……å®Ÿåº¦ã«ã¤ã„ã¦ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ -->
            <div class="bg-brand-50 p-6 sm:p-8 rounded-sm shadow-inner border border-brand-200 mb-8">
                <h3 class="text-sm font-bold text-brand-900 tracking-widest mb-2"><i class="fa-solid fa-chart-pie text-brand-500 mr-2"></i>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å……å®Ÿåº¦ã«ã¤ã„ã¦</h3>
                <p class="text-xs text-brand-700 leading-relaxed tracking-wide">
                    ã™ã¹ã¦ã®é …ç›®ï¼ˆåŸºæœ¬æƒ…å ±ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã€ãƒãƒƒãƒãƒ³ã‚°æƒ…å ±ã€ã‚¹ã‚­ãƒ«ãƒ»è¶£å‘³ã€çµŒæ­´ã€SNSãƒ»ãƒªãƒ³ã‚¯ï¼‰ã‚’è¨­å®šãƒ»å…¥åŠ›ã™ã‚‹ã“ã¨ã§ã€å……å®Ÿåº¦ãŒ <strong>100%</strong> ã«ãªã‚Šã¾ã™ã€‚<br>
                    <span class="text-[10px] text-brand-500 mt-2 block space-y-1">
                        ãƒ»ã€Œè‡ªå·±ç´¹ä»‹ã€ã€Œæƒ³ã„ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã€Œç›®æ¨™ãƒ»ãƒ“ã‚¸ãƒ§ãƒ³ã€ã¯å„300æ–‡å­—ä»¥ä¸Šã§è©•ä¾¡ã•ã‚Œã¾ã™ã€‚<br>
                        ãƒ»ã€Œã‚¹ã‚­ãƒ«ã€ã€Œè¶£å‘³ã€ã¯å„3ã¤ä»¥ä¸Šã§è©•ä¾¡ã•ã‚Œã¾ã™ã€‚<br>
                        ãƒ»ã€ŒçµŒæ­´ã€ã€ŒSNSãƒ»å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ã¯1ã¤ä»¥ä¸Šã®å…¥åŠ›ã§è©•ä¾¡ã•ã‚Œã¾ã™ã€‚<br>
                        â€» åŸºæœ¬æƒ…å ±ã®é …ç›®ã¯å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹é …ç›®ã”ã¨ã«åŠ ç®—ã•ã‚Œã¾ã™ã€‚
                    </span>
                </p>
            </div>

            <!-- Submit -->
            <div class="pb-10 pt-4">
                <button type="submit" id="btn-save" class="w-full py-4 bg-[#3e2723] text-[#d4af37] font-bold text-lg rounded-sm hover:bg-[#2a1a17] transition-colors shadow-xl tracking-widest border border-[#b8860b]">
                    <i class="fa-solid fa-floppy-disk mr-2"></i> èˆªæµ·éŒ²ã‚’ä¿å­˜ã™ã‚‹
                </button>
            </div>
        </form>
    </main>

    <!-- â˜… Markdown Help Modal -->
    <div id="md-help-modal" class="hidden fixed inset-0 z-[4000] bg-[#2a1a17]/60 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-[#fffdf9] bg-texture w-full max-w-md rounded-sm shadow-2xl flex flex-col border border-brand-300 overflow-hidden">
            <div class="p-4 border-b border-brand-200 flex justify-between items-center bg-[#fffdf9]">
                <h3 class="font-bold text-brand-900 font-serif tracking-widest flex items-center"><i class="fa-solid fa-pen-nib mr-2 text-brand-500"></i>ãƒ†ã‚­ã‚¹ãƒˆã®è£…é£¾æ–¹æ³•</h3>
                <button onclick="closeMarkdownHelp()" type="button" class="text-brand-400 hover:text-brand-700 transition-colors w-8 h-8 flex items-center justify-center rounded-sm bg-brand-50 border border-brand-100"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="p-6 overflow-y-auto space-y-5 text-sm text-brand-800 leading-relaxed bg-[#fffdf9]">
                <p class="text-xs text-brand-600 font-bold tracking-widest mb-2 border-l-4 border-brand-500 pl-2">æ–‡ç« ã‚’ä»¥ä¸‹ã®è¨˜å·ã§å›²ã‚€ã¨ã€ç¶ºéº—ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                
                <ul class="space-y-4">
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-arrow-turn-down mr-1"></i>æ”¹è¡Œ</span> 
                        <span class="text-xs text-brand-700">ãã®ã¾ã¾æ™®é€šã«æ”¹è¡Œï¼ˆEnterï¼‰ã™ã‚‹ã ã‘ã§åæ˜ ã•ã‚Œã¾ã™ã€‚</span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-heading mr-1"></i>è¦‹å‡ºã—1 (å¤§)</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded"># è¦‹å‡ºã—ãƒ†ã‚­ã‚¹ãƒˆ</code> ï¼ˆâ€»#ã®å¾Œã«åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ï¼‰</span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-heading mr-1 text-sm"></i>è¦‹å‡ºã—2 (ä¸­)</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded">## è¦‹å‡ºã—ãƒ†ã‚­ã‚¹ãƒˆ</code></span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-bold mr-1"></i>å¤ªæ–‡å­—</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded">**å¼·èª¿ã—ãŸã„æ–‡å­—**</code></span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-italic mr-1"></i>æ–œä½“æ–‡å­—</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded">*æ–œã‚ã«ã—ãŸã„æ–‡å­—*</code></span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-underline mr-1"></i>ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼(ä¸‹ç·š)</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded">__ä¸‹ç·šã‚’å¼•ããŸã„æ–‡å­—__</code> ï¼ˆâ€»ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼2ã¤ã§å›²ã‚€ï¼‰</span>
                    </li>
                    <li class="flex flex-col gap-1">
                        <span class="font-bold text-brand-900 bg-brand-50 px-2 py-1 rounded-sm border border-brand-200 w-fit text-[10px] tracking-widest"><i class="fa-solid fa-list-ul mr-1"></i>ãƒªã‚¹ãƒˆ(ç®‡æ¡æ›¸ã)</span> 
                        <span class="text-xs text-brand-700"><code class="text-brand-600 font-bold bg-[#f7f5f0] px-1 py-0.5 rounded">- ãƒªã‚¹ãƒˆé …ç›®</code> ï¼ˆâ€»ãƒã‚¤ãƒ•ãƒ³ã®å¾Œã«åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ï¼‰</span>
                    </li>
                </ul>
            </div>
            <div class="p-4 border-t border-brand-200 bg-[#f7f5f0] text-center">
                <button onclick="closeMarkdownHelp()" type="button" class="w-full py-3.5 bg-[#3e2723] text-[#d4af37] font-bold rounded-sm tracking-widest shadow-md hover:bg-[#2a1a17] transition-colors border border-[#b8860b]">é–‰ã˜ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="fixed top-24 left-1/2 transform -translate-x-1/2 z-[3000] hidden transition-all duration-300 translate-y-20">
        <div class="bg-[#3e2723] text-[#f7f5f0] px-6 py-3 rounded-sm shadow-2xl flex items-center gap-3 backdrop-blur-md bg-opacity-95 border border-[#8b6a4f]"><i class="fa-solid fa-check text-[#d4af37] text-lg"></i><span id="notif-message" class="text-sm font-bold tracking-widest font-serif"></span></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBVDZJhL9sMzVknD5tNomLWF-0z0jPU3i0",
            authDomain: "brainbridge-4b8ac.firebaseapp.com",
            projectId: "brainbridge-4b8ac",
            storageBucket: "brainbridge-4b8ac.firebasestorage.app",
            messagingSenderId: "803209683213",
            appId: "1:803209683213:web:b62d13784fa2bbbb9f5044"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);
        const appId = 'default-app-id';

        let currentUser = null;
        let careerList = [];
        let existingReferrerId = null;
        let myRank = 'arrival';
        let isAdmin = false;
        
        let targetUid = null;
        let editUid = null;
        
        const isAdminMock = localStorage.getItem('isAdminMock') === 'true';

        // Const Arrays
        const prefectures = ["åŒ—æµ·é“","é’æ£®çœŒ","å²©æ‰‹çœŒ","å®®åŸçœŒ","ç§‹ç”°çœŒ","å±±å½¢çœŒ","ç¦å³¶çœŒ","èŒ¨åŸçœŒ","æ ƒæœ¨çœŒ","ç¾¤é¦¬çœŒ","åŸ¼ç‰çœŒ","åƒè‘‰çœŒ","æ±äº¬éƒ½","ç¥å¥ˆå·çœŒ","æ–°æ½ŸçœŒ","å¯Œå±±çœŒ","çŸ³å·çœŒ","ç¦äº•çœŒ","å±±æ¢¨çœŒ","é•·é‡çœŒ","å²é˜œçœŒ","é™å²¡çœŒ","æ„›çŸ¥çœŒ","ä¸‰é‡çœŒ","æ»‹è³€çœŒ","äº¬éƒ½åºœ","å¤§é˜ªåºœ","å…µåº«çœŒ","å¥ˆè‰¯çœŒ","å’Œæ­Œå±±çœŒ","é³¥å–çœŒ","å³¶æ ¹çœŒ","å²¡å±±çœŒ","åºƒå³¶çœŒ","å±±å£çœŒ","å¾³å³¶çœŒ","é¦™å·çœŒ","æ„›åª›çœŒ","é«˜çŸ¥çœŒ","ç¦å²¡çœŒ","ä½è³€çœŒ","é•·å´çœŒ","ç†Šæœ¬çœŒ","å¤§åˆ†çœŒ","å®®å´çœŒ","é¹¿å…å³¶çœŒ","æ²–ç¸„çœŒ","æµ·å¤–","ãã®ä»–"];
        
        // ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è±Šã‹ãªã‚«ãƒ†ã‚´ãƒªåˆ†ã‘ã•ã‚ŒãŸã‚¹ã‚­ãƒ«ãƒ»è¶£å‘³ãƒ‡ãƒ¼ã‚¿
        const skillCategories = {
            "ğŸ’» ITãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°": ["Webåˆ¶ä½œ", "WordPress", "Firebase", "ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ (Bubbleç­‰)", "ãƒ­ãƒ¼ã‚³ãƒ¼ãƒ‰", "ã‚¢ãƒ—ãƒªé–‹ç™º", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)", "ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ã‚µãƒ¼ãƒãƒ¼", "ãƒ‡ãƒ¼ã‚¿åˆ†æ", "AIãƒ»æ©Ÿæ¢°å­¦ç¿’æ´»ç”¨", "UI/UXãƒ‡ã‚¶ã‚¤ãƒ³", "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£"],
            "ğŸ¨ ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³": ["ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³", "Webãƒ‡ã‚¶ã‚¤ãƒ³", "ãƒ­ã‚´ä½œæˆ", "ã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³", "å‹•ç”»æ’®å½±", "å‹•ç”»ç·¨é›†", "å†™çœŸæ’®å½±", "ç”»åƒåŠ å·¥", "3Dãƒ¢ãƒ‡ãƒªãƒ³ã‚°", "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³", "ã‚µã‚¦ãƒ³ãƒ‰ã‚¯ãƒªã‚¨ã‚¤ãƒˆ", "ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°", "ã‚·ãƒŠãƒªã‚ªãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°"],
            "ğŸ’¼ ãƒ“ã‚¸ãƒã‚¹ãƒ»ä¼ç”»": ["èµ·æ¥­", "çµŒå–¶ãƒ»ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", "æ–°è¦äº‹æ¥­ç«‹æ¡ˆ", "äº‹æ¥­æˆ¦ç•¥", "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°", "ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°", "SEO/SEM", "SNSé‹ç”¨", "åºƒå‘Šé‹ç”¨", "åºƒå ±ãƒ»PR", "å–¶æ¥­", "BtoBã‚»ãƒ¼ãƒ«ã‚¹", "BtoCã‚»ãƒ¼ãƒ«ã‚¹", "ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹", "äººäº‹ãƒ»æ¡ç”¨", "çµ„ç¹”é–‹ç™º", "çµŒç†ãƒ»è²¡å‹™", "æ³•å‹™ãƒ»çŸ¥è²¡"],
            "ğŸ¤ å¯¾äººãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³": ["ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³", "ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³", "è¬›å¸«ãƒ»ã‚»ãƒŸãƒŠãƒ¼ç™»å£‡", "ã‚³ãƒ¼ãƒãƒ³ã‚°", "ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°", "ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°", "äº¤æ¸‰ãƒ»ãƒã‚´ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³", "ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ãƒ»å–æ", "ã‚¤ãƒ™ãƒ³ãƒˆä¼ç”»ãƒ»é‹å–¶", "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ"],
            "ğŸŒ èªå­¦ãƒ»ã‚°ãƒ­ãƒ¼ãƒãƒ«": ["è‹±èª (æ—¥å¸¸ä¼šè©±)", "è‹±èª (ãƒ“ã‚¸ãƒã‚¹)", "ä¸­å›½èª", "éŸ“å›½èª", "ã‚¹ãƒšã‚¤ãƒ³èª", "ãƒ•ãƒ©ãƒ³ã‚¹èª", "ãã®ä»–å¤–å›½èª", "ç¿»è¨³ãƒ»é€šè¨³", "æµ·å¤–ãƒ“ã‚¸ãƒã‚¹å±•é–‹"],
            "ğŸŒ¿ ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ãã®ä»–": ["æ–™ç†æŒ‡å°", "æ „é¤ŠæŒ‡å°", "æ•´ç†åç´", "ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚·ãƒ£ãƒ«ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°", "ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼", "ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹æŒ‡å°", "ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°", "å‹•ç”»é…ä¿¡ (YouTuberç­‰)", "VTuber", "ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼"]
        };

        const hobbyCategories = {
            "ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ãƒ»é‹å‹•ç³»": ["ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°", "ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°", "ç­‹ãƒˆãƒ¬", "ãƒ¨ã‚¬", "ãƒ”ãƒ©ãƒ†ã‚£ã‚¹", "ãƒ€ãƒ³ã‚¹", "ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«", "ã‚µãƒƒã‚«ãƒ¼", "ãƒ•ãƒƒãƒˆã‚µãƒ«", "é‡çƒ", "ãƒ†ãƒ‹ã‚¹", "ãƒãƒ‰ãƒŸãƒ³ãƒˆãƒ³", "å“çƒ", "ã‚´ãƒ«ãƒ•", "ãƒœãƒ«ãƒ€ãƒªãƒ³ã‚°", "ç™»å±±", "ã‚µãƒ¼ãƒ•ã‚£ãƒ³", "ã‚¹ãƒãƒ¼ãƒœãƒ¼ãƒ‰", "ã‚¹ã‚­ãƒ¼", "ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°", "æ°´æ³³", "æ ¼é—˜æŠ€", "æ­¦é“", "ãƒãƒ©ã‚½ãƒ³", "ãƒˆãƒ©ã‚¤ã‚¢ã‚¹ãƒ­ãƒ³"],
            "ğŸµ éŸ³æ¥½ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¡": ["ã‚«ãƒ©ã‚ªã‚±", "æ¥½å™¨æ¼”å¥ï¼ˆã‚®ã‚¿ãƒ¼ï¼‰", "æ¥½å™¨æ¼”å¥ï¼ˆãƒ”ã‚¢ãƒï¼‰", "æ¥½å™¨æ¼”å¥ï¼ˆãã®ä»–ï¼‰", "ä½œæ›²ãƒ»DTM", "æ­Œ", "ãƒãƒ³ãƒ‰æ´»å‹•", "ãƒ©ã‚¤ãƒ–é‘‘è³", "ãƒ•ã‚§ã‚¹", "DJ", "æ˜ ç”»é‘‘è³", "ã‚¢ãƒ‹ãƒ¡é‘‘è³", "æ¼«ç”»", "ã‚²ãƒ¼ãƒ ", "ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ", "è¬è§£ã", "ãƒã‚¸ãƒƒã‚¯", "ãŠç¬‘ã„é‘‘è³", "èˆå°é‘‘è³", "ãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«", "ã‚¯ãƒ©ã‚·ãƒƒã‚¯éŸ³æ¥½"],
            "ğŸ¨ æ–‡åŒ–ãƒ»ã‚¢ãƒ¼ãƒˆ": ["çµµç”»", "ã‚¤ãƒ©ã‚¹ãƒˆ", "ãƒ‡ã‚¶ã‚¤ãƒ³", "å†™çœŸæ’®å½±", "å‹•ç”»ç·¨é›†", "æ‰‹èŠ¸", "DIY", "å°èª¬åŸ·ç­†", "ãƒ–ãƒ­ã‚°", "æ›¸é“", "è¯é“", "èŒ¶é“", "é™¶èŠ¸", "ç¾è¡“é¤¨å·¡ã‚Š"],
            "ğŸ“š å­¦ã³ãƒ»æ•™é¤Š": ["èª­æ›¸", "è‡ªå·±å•“ç™º", "æ­´å²", "å¿ƒç†å­¦", "æŠ•è³‡ãƒ»è³‡ç”£é‹ç”¨", "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°", "èªå­¦å­¦ç¿’ï¼ˆè‹±èªï¼‰", "èªå­¦å­¦ç¿’ï¼ˆãã®ä»–ï¼‰", "è³‡æ ¼å–å¾—", "çµŒæ¸ˆ", "æ”¿æ²»", "å“²å­¦", "ç§‘å­¦"],
            "ğŸ³ é£Ÿãƒ»æš®ã‚‰ã—": ["æ–™ç†", "ãŠè“å­ä½œã‚Š", "ãƒ‘ãƒ³ä½œã‚Š", "ã‚«ãƒ•ã‚§å·¡ã‚Š", "é£Ÿã¹æ­©ã", "ãŠé…’", "ãƒ¯ã‚¤ãƒ³", "æ—¥æœ¬é…’", "ã‚¯ãƒ©ãƒ•ãƒˆãƒ“ãƒ¼ãƒ«", "ã‚³ãƒ¼ãƒ’ãƒ¼", "ç´…èŒ¶", "ãŠèŒ¶", "ã‚¤ãƒ³ãƒ†ãƒªã‚¢", "ãƒŸãƒ‹ãƒãƒªã‚ºãƒ ", "ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°", "è¦³è‘‰æ¤ç‰©", "ãƒšãƒƒãƒˆ", "ã‚µã‚¦ãƒŠ", "éŠ­æ¹¯"],
            "âœˆï¸ æ—…è¡Œãƒ»ãŠå‡ºã‹ã‘": ["å›½å†…æ—…è¡Œ", "æµ·å¤–æ—…è¡Œ", "ä¸€äººæ—…", "ã‚­ãƒ£ãƒ³ãƒ—", "ã‚°ãƒ©ãƒ³ãƒ”ãƒ³ã‚°", "æ¸©æ³‰å·¡ã‚Š", "ç¥ç¤¾ä»é–£å·¡ã‚Š", "å¾¡æœ±å°é›†ã‚", "ãƒ‰ãƒ©ã‚¤ãƒ–", "ãƒ„ãƒ¼ãƒªãƒ³ã‚°", "ãƒ„ãƒ¼ãƒªãƒ³ã‚°ï¼ˆè‡ªè»¢è»Šï¼‰", "ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯"],
            "ğŸ¤ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ»äºº": ["äº¤æµä¼š", "ã‚¤ãƒ™ãƒ³ãƒˆä¸»å‚¬", "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢", "åœ°åŸŸæ´»å‹•", "ã‚³ãƒ¼ãƒãƒ³ã‚°", "å­è‚²ã¦", "ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°", "NPOæ´»å‹•"],
            "ğŸŒ¿ ãã®ä»–": ["ç‘æƒ³", "ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹", "å ã„", "ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«", "ãã®ä»–"]
        };

        const getVal = (id, def = '') => { const el = document.getElementById(id); return el ? el.value : def; };
        const setVal = (id, val) => { const el = document.getElementById(id); if (el) el.value = val; };

        document.addEventListener('DOMContentLoaded', () => {
            initSelects();
            
            const urlParams = new URLSearchParams(window.location.search);
            targetUid = urlParams.get('uid');
            if (targetUid) {
                const backLink = document.getElementById('back-link');
                if (backLink) backLink.href = `user.html?uid=${targetUid}`;
            }
            
            // Image Preview
            const photoInput = document.getElementById('photo-upload');
            if(photoInput) {
                photoInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (ev) => {
                            const img = document.getElementById('profile-image-preview');
                            img.src = ev.target.result;
                            img.classList.remove('hidden');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        onAuthStateChanged(auth, async (user) => {
            if (isAdminMock) {
                currentUser = { uid: 'test_admin_uid' };
                isAdmin = true;
                myRank = 'covenant';
                editUid = targetUid || currentUser.uid;
                return;
            }

            if (user && !user.isAnonymous) {
                currentUser = user;
                editUid = user.uid; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯è‡ªåˆ†è‡ªèº«ã‚’ç·¨é›†
                
                try {
                    // ã¾ãšè‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’å–å¾—ã—ã¦ç®¡ç†è€…æ¨©é™ã‚’ç¢ºèª
                    const myDocRef = doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'data');
                    const mySnap = await getDoc(myDocRef);
                    let myData = null;
                    if (mySnap.exists()) {
                        myData = mySnap.data();
                        if (myData.userId === 'admin') isAdmin = true;
                    }

                    // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆUIDã®æŒ‡å®šãŒã‚ã‚‹å ´åˆ
                    if (targetUid && targetUid !== user.uid) {
                        if (isAdmin) {
                            editUid = targetUid;
                            const targetRef = doc(db, 'artifacts', appId, 'users', editUid, 'profile', 'data');
                            const targetSnap = await getDoc(targetRef);
                            if (targetSnap.exists()) {
                                const tData = targetSnap.data();
                                myRank = tData.membershipRank || 'arrival';
                                existingReferrerId = tData.referrerId || null;
                                populateForm(tData);
                            } else {
                                alert("å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚");
                            }
                        } else {
                            alert("ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç·¨é›†ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
                            window.location.href = 'user.html';
                        }
                    } else {
                        // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæŒ‡å®šãŒãªã„ï¼ˆè‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç·¨é›†ï¼‰å ´åˆ
                        if (myData) {
                            myRank = myData.membershipRank || 'arrival';
                            existingReferrerId = myData.referrerId || null;
                            populateForm(myData);
                        }
                    }
                } catch (e) { console.error(e); }
            } else {
                window.location.href = 'login.html';
            }
        });

        // --- Helper Methods ---
        window.openMarkdownHelp = () => {
            document.getElementById('md-help-modal').classList.remove('hidden');
        };
        window.closeMarkdownHelp = () => {
            document.getElementById('md-help-modal').classList.add('hidden');
        };

        window.showNotification = (msg, isError = false) => {
            const notif = document.getElementById('notification');
            const msgEl = document.getElementById('notif-message');
            const iconEl = notif.querySelector('i');
            
            if(isError) {
                notif.className = 'fixed top-24 left-1/2 transform -translate-x-1/2 z-[3000] bg-[#fffdf9] text-red-700 px-6 py-3 rounded-sm shadow-2xl flex items-center gap-3 border border-red-300 transition-all duration-300';
                iconEl.className = 'fa-solid fa-triangle-exclamation text-red-500 text-lg';
            } else {
                notif.className = 'fixed top-24 left-1/2 transform -translate-x-1/2 z-[3000] bg-[#3e2723] text-[#f7f5f0] px-6 py-3 rounded-sm shadow-2xl flex items-center gap-3 backdrop-blur-md border border-[#8b6a4f] transition-all duration-300';
                iconEl.className = 'fa-solid fa-check text-[#d4af37] text-lg';
            }
            
            msgEl.textContent = msg;
            notif.classList.remove('hidden', 'translate-y-20');
            setTimeout(() => {
                notif.classList.add('translate-y-20');
                setTimeout(() => notif.classList.add('hidden'), 300);
            }, 3000);
        };

        function initSelects() {
            // æ´»å‹•æ‹ ç‚¹(prefecture)ã¨å‡ºèº«åœ°(birthplace)ã®åˆæœŸåŒ–
            const prefSelect = document.getElementById('prefecture');
            const birthSelect = document.getElementById('birthplace');
            
            let prefOptions = '<option value="">æŒ‡å®šãªã—</option>';
            prefectures.forEach(p => prefOptions += `<option value="${p}">${p}</option>`);
            
            if(prefSelect) prefSelect.innerHTML = prefOptions;
            if(birthSelect) birthSelect.innerHTML = prefOptions;
            
            // ã‚¹ã‚­ãƒ«ã®ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ç”Ÿæˆ
            const skillsContainer = document.getElementById('skills-checkbox-container');
            if(skillsContainer) {
                createCategoryCheckboxes(skillCategories, skillsContainer, 'skill-tag');
            }
            
            // è¶£å‘³ã®ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ç”Ÿæˆ
            const hobbiesContainer = document.getElementById('hobbies-checkbox-container');
            if(hobbiesContainer) {
                createCategoryCheckboxes(hobbyCategories, hobbiesContainer, 'hobby-tag');
            }
        }

        // ã‚«ãƒ†ã‚´ãƒªåˆ†ã‘ã•ã‚ŒãŸãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç¾¤ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
        function createCategoryCheckboxes(data, container, nameAttr) {
            container.innerHTML = '';
            for (const [category, items] of Object.entries(data)) {
                const details = document.createElement('details');
                details.className = 'group bg-white border border-brand-200 rounded-sm overflow-hidden shadow-sm';
                
                details.innerHTML = `
                    <summary class="flex justify-between items-center p-3 cursor-pointer hover:bg-brand-50 transition-colors select-none">
                        <span class="font-bold text-sm text-brand-800 tracking-widest">${category}</span>
                        <span class="accordion-arrow text-brand-400"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                    </summary>
                    <div class="p-3 border-t border-brand-200 bg-brand-50 flex flex-wrap gap-1.5 max-h-60 overflow-y-auto">
                        ${items.map(item => `
                            <label class="cursor-pointer">
                                <input type="checkbox" name="${nameAttr}" value="${item}" class="filter-checkbox hidden">
                                <div class="px-2 py-1 rounded-sm border border-brand-200 text-xs text-brand-700 hover:bg-[#fffdf9] transition-colors select-none tracking-widest shadow-sm bg-white">${item}</div>
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(details);
            }
        }

        function populateForm(data) {
            setVal('name', data.name);
            setVal('furigana', data.furigana);
            setVal('jobTitle', data.jobTitle);
            setVal('prefecture', data.prefecture);
            setVal('birthplace', data.birthplace); // å‡ºèº«åœ°
            setVal('gender', data.gender);
            setVal('birthDate', data.birthDate);
            setVal('birthVisibility', data.birthVisibility || 'full');
            setVal('bio', data.bio);
            setVal('message', data.message);
            setVal('canOffer', (data.canOffer || []).join(', '));
            setVal('lookingFor', (data.lookingFor || []).join(', '));
            setVal('goals', data.goals);
            setVal('websiteUrl', data.websiteUrl);
            setVal('snsInstagram', data.snsInstagram);
            setVal('snsX', data.snsX);
            if(data.profilePublic) document.getElementById('profilePublic').value = data.profilePublic;
            
            if(data.photoURL) {
                document.getElementById('profile-image-preview').src = data.photoURL;
                document.getElementById('profile-image-preview').classList.remove('hidden');
            }

            // Tags (ãƒ•ãƒ©ãƒƒãƒˆãªé…åˆ—ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç¾¤å…¨ä½“ã‹ã‚‰æ¢ã™)
            const selectedSkills = data.skills || [];
            document.querySelectorAll('input[name="skill-tag"]').forEach(cb => {
                if(selectedSkills.includes(cb.value)) cb.checked = true;
            });
            // ãƒ—ãƒªã‚»ãƒƒãƒˆã«ãªã„ã‚¹ã‚­ãƒ«ã‚’æŠ½å‡º
            const allPresetSkills = Object.values(skillCategories).flat();
            const customSkills = selectedSkills.filter(s => !allPresetSkills.includes(s));
            setVal('custom-skills', customSkills.join(', '));

            const selectedHobbies = data.hobbies || [];
            document.querySelectorAll('input[name="hobby-tag"]').forEach(cb => {
                if(selectedHobbies.includes(cb.value)) cb.checked = true;
            });
            // ãƒ—ãƒªã‚»ãƒƒãƒˆã«ãªã„è¶£å‘³ã‚’æŠ½å‡º
            const allPresetHobbies = Object.values(hobbyCategories).flat();
            const customHobbies = selectedHobbies.filter(s => !allPresetHobbies.includes(s));
            setVal('custom-hobbies', customHobbies.join(', '));

            if(data.career) {
                careerList = data.career;
                renderCareerList();
            }
        }

        window.addCareer = () => {
            const company = getVal('career-company');
            if(!company) return alert('ä¼šç¤¾ãƒ»çµ„ç¹”åã¯å¿…é ˆã§ã™');
            careerList.push({
                company: company,
                role: getVal('career-role'),
                start: getVal('career-start'),
                end: getVal('career-end'),
                description: getVal('career-desc')
            });
            setVal('career-company', ''); setVal('career-role', ''); setVal('career-start', ''); setVal('career-end', ''); setVal('career-desc', '');
            renderCareerList();
        };

        window.removeCareer = (idx) => {
            careerList.splice(idx, 1);
            renderCareerList();
        };

        function renderCareerList() {
            const container = document.getElementById('career-list-container');
            if(!container) return;
            container.innerHTML = careerList.map((c, idx) => `
                <div class="border border-brand-200 p-4 rounded-sm mb-3 bg-brand-50 relative shadow-sm">
                    <button type="button" onclick="removeCareer(${idx})" class="absolute top-3 right-3 text-red-400 hover:text-red-700 transition-colors"><i class="fa-solid fa-trash"></i></button>
                    <div class="font-bold text-brand-900 tracking-widest font-serif text-base pr-8">${c.company}</div>
                    <div class="text-[10px] text-brand-600 mb-2 font-bold tracking-widest mt-1">${c.role || '-'} | ${c.start || '?'} ~ ${c.end || 'ç¾åœ¨'}</div>
                    <div class="text-xs text-brand-700 whitespace-pre-wrap leading-relaxed">${c.description || ''}</div>
                </div>
            `).join('');
        }

        // â˜… å……å®Ÿåº¦ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ (åˆè¨ˆ100ç‚¹)
        function calculateProfileScore(data) {
            let score = 0;
            
            // åŸºæœ¬æƒ…å ± (è¨ˆ40ç‚¹: å„5ç‚¹)
            if (data.photoURL) score += 5;
            if (data.name) score += 5;
            if (data.furigana) score += 5;
            if (data.jobTitle) score += 5;
            if (data.prefecture) score += 5;
            if (data.birthplace) score += 5;
            if (data.gender && data.gender !== 'ç„¡å›ç­”') score += 5;
            if (data.birthDate) score += 5;
            
            // ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ (è¨ˆ30ç‚¹: å„300æ–‡å­—ä»¥ä¸Šã§10ç‚¹)
            if (data.bio && data.bio.length >= 300) score += 10;
            if (data.message && data.message.length >= 300) score += 10;
            if (data.goals && data.goals.length >= 300) score += 10;
            
            // ãƒãƒƒãƒãƒ³ã‚°æƒ…å ± (è¨ˆ10ç‚¹: å„1ã¤ä»¥ä¸Šã§5ç‚¹)
            if (data.canOffer && data.canOffer.length > 0) score += 5;
            if (data.lookingFor && data.lookingFor.length > 0) score += 5;
            
            // ã‚¹ã‚­ãƒ«ã¨è¶£å‘³ (è¨ˆ10ç‚¹: å„3ã¤ä»¥ä¸Šã§5ç‚¹)
            if (data.skills && data.skills.length >= 3) score += 5;
            if (data.hobbies && data.hobbies.length >= 3) score += 5;
            
            // çµŒæ­´ (è¨ˆ5ç‚¹: 1ã¤ä»¥ä¸Šã§5ç‚¹)
            if (data.career && data.career.length > 0) score += 5;
            
            // SNSãƒªãƒ³ã‚¯ (è¨ˆ5ç‚¹: ã©ã‚Œã‹1ã¤ä»¥ä¸Šã§5ç‚¹)
            if (data.websiteUrl || data.snsInstagram || data.snsX) score += 5;
            
            return Math.min(score, 100);
        }

        window.saveProfile = async (e) => {
            e.preventDefault();
            if (!currentUser || !editUid) return;
            const btn = document.getElementById('btn-save');
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i>ä¿å­˜ä¸­...';

            try {
                const uid = editUid; // ä¿å­˜å…ˆã‚’å¯¾è±¡ã®UIDã«ã™ã‚‹
                const privateRef = doc(db, 'artifacts', appId, 'users', uid, 'profile', 'data');
                const oldSnap = await getDoc(privateRef);
                let currentPhotoUrl = oldSnap.exists() ? oldSnap.data().photoURL : null;
                const finalUserId = oldSnap.exists() ? oldSnap.data().userId : uid; // userIDã¯å¤‰æ›´ä¸å¯

                // Photo Upload
                const fileEl = document.getElementById('photo-upload');
                if (fileEl && fileEl.files[0] && !isAdminMock) {
                    try {
                        const snap = await uploadBytes(ref(storage, `profiles/${uid}/${Date.now()}_${fileEl.files[0].name}`), fileEl.files[0]);
                        currentPhotoUrl = await getDownloadURL(snap.ref);
                    } catch(err) {
                        console.error(err);
                        showNotification('ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ', true);
                    }
                }

                // Gather Tags
                const checkedSkills = Array.from(document.querySelectorAll('input[name="skill-tag"]:checked')).map(cb => cb.value);
                const customSkills = getVal('custom-skills').split(',').map(s=>s.trim()).filter(s=>s);
                const finalSkills = [...new Set([...checkedSkills, ...customSkills])];

                const checkedHobbies = Array.from(document.querySelectorAll('input[name="hobby-tag"]:checked')).map(cb => cb.value);
                const customHobbies = getVal('custom-hobbies').split(',').map(s=>s.trim()).filter(s=>s);
                const finalHobbies = [...new Set([...checkedHobbies, ...customHobbies])];

                // Gather Final Data
                const finalData = {
                    userId: finalUserId,
                    referrerId: existingReferrerId,
                    membershipRank: myRank,
                    name: getVal('name'),
                    furigana: getVal('furigana'),
                    jobTitle: getVal('jobTitle'),
                    prefecture: getVal('prefecture'),
                    birthplace: getVal('birthplace'),
                    gender: getVal('gender'),
                    birthDate: getVal('birthDate'),
                    birthVisibility: getVal('birthVisibility'),
                    bio: getVal('bio'),
                    message: getVal('message'),
                    canOffer: getVal('canOffer').split(',').map(s=>s.trim()).filter(s=>s),
                    lookingFor: getVal('lookingFor').split(',').map(s=>s.trim()).filter(s=>s),
                    goals: getVal('goals'),
                    websiteUrl: getVal('websiteUrl'),
                    snsInstagram: getVal('snsInstagram'),
                    snsX: getVal('snsX'),
                    profilePublic: getVal('profilePublic'),
                    photoURL: currentPhotoUrl,
                    skills: finalSkills,
                    hobbies: finalHobbies,
                    career: careerList,
                    updatedAt: new Date().toISOString()
                };

                finalData.profileScore = calculateProfileScore(finalData);

                if (isAdminMock) {
                    showNotification('ã€ãƒ†ã‚¹ãƒˆã€‘ä¿å­˜æˆåŠŸ (Score: '+finalData.profileScore+'%)');
                } else {
                    // 1. Private Save
                    await setDoc(privateRef, finalData);

                    // 2. Public Save
                    const publicRef = doc(db, 'artifacts', appId, 'public', 'data', 'users', uid);
                    const isPaidMember = (myRank !== 'arrival');
                    const isPublicSetting = (finalData.profilePublic === 'true');
                    const canPublish = isPaidMember || isAdmin;

                    if (isPublicSetting && canPublish) {
                        const publicData = {
                            ...finalData,
                            isHidden: false
                        };
                        await setDoc(publicRef, publicData);
                    } else {
                        // æ¤œç´¢éå…¬é–‹ã€ã¾ãŸã¯ç„¡æ–™ä¼šå“¡ã®å ´åˆã¯ãƒŸãƒ‹ãƒãƒ«ãƒ‡ãƒ¼ã‚¿ã®ã¿æ›´æ–°
                        const minimalData = {
                            userId: finalData.userId,
                            name: finalData.name || finalData.userId,
                            photoURL: finalData.photoURL || null,
                            email: finalData.email || null, 
                            isHidden: true,
                            referrerId: finalData.referrerId || null,
                            profileScore: finalData.profileScore || 0
                        };
                        await setDoc(publicRef, minimalData);
                    }

                    showNotification('èˆªæµ·éŒ²ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼');
                    setTimeout(() => { 
                        window.location.href = targetUid ? `user.html?uid=${targetUid}` : 'user.html'; 
                    }, 1000);
                }
            } catch (e) {
                console.error(e);
                showNotification('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ', true);
            } finally {
                btn.innerHTML = '<i class="fa-solid fa-floppy-disk mr-2"></i> èˆªæµ·éŒ²ã‚’ä¿å­˜ã™ã‚‹';
            }
        };
    </script>
</body>
</html>
